{% extends 'base.pages.html.twig' %}

{% block page %}{% endblock page %}

{% block content %}
<!-- REGISTER SECTION START -->
<section class="login-register">
    <div class="container d-flex">
        <div class="login-left login-card d-flex justify-content-center align-items-center">
            <div>
                <img src="{{asset('front/images/join_vector.svg')}}" alt="">
                <h2 class="mt-5 mb-3">{{txtRegister}}</h2>
                <h2 class="mt-5 mb-3">Ou créez un compte client <a href="{{path('add_client')}}">ici</a> pour effectuer des achats</h2>
            </div>
        </div>
        <div class="login-right login-card">
            <div class="container">
                <form method = "post" action= "{{path('add_demande')}}">
                    {% for message in app.flashes('info') %}
                        <div class="alert alert-primary alert-dismissible fade show" role="alert">
                            <strong>{{message}}</strong> 
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    {% endfor %}
                    <h2>Demande d'adhésion</h2>	
                    <div class="row gx-2">
                        <div class="col-6 mb-3">
                            <label class="form-label">Prenom</label>
                            <input type="text" class="form-control" name="prenom" required placeholder="Prenom">
                        </div>
                        <div class="col-6 mb-3">
                            <label class="form-label">Nom</label>
                            <input type="text" class="form-control" name="nom" required placeholder="Nom">
                        </div> 
                    </div>
                    <div class="mb-3">
                         <label class="form-label">Email</label>
                         <input class="form-control" name="email" placeholder="Adresse email" type="email" required>
                    </div> 
                    
                    <div class="mb-3">
                        <label class="form-label col-12">Téléphone</label>
                        <input class="form-control" id='phone' name="telTest" type="tel" required>
                    </div>
                    
                    <div class="mb-3">
                        <div class="row gx-2">
                        
                             <label class="form-label mt-2">Promotion </label>
                             <input class="form-control" name="promotion" placeholder="Année d'obtention du BAC" type="number" min="1983" max="2022" required>
                         </div>
                    </div> 
                    
                    <div class="row gx-2">
                        <div class="col-6 mb-3">
                            <label class="form-label">Pays</label>
                            <input class="form-control" name="pays" placeholder="Pays de résidence" type="text" required onChange="javascript:this.value=this.value.toUpperCase();">
                        </div>
                        <div class="col-6 mb-3">
                            <label class="form-label">Ville</label>
                            <input type="text" class="form-control" required name="ville" placeholder="Ville de résidence" onChange="javascript:this.value=this.value.toUpperCase();">
                        </div> 
                    </div>
                    <div class="my-4">
                      <button type="submit" class="btn btn-primary w-100"> Soumettre  </button>
                    </div> 
            
                   
                    <span>Vous avez deja un compte ? <a href="{{path('app_login')}}">Connectez-vous</a></span> 
                </form>
            </div>
        </div>
    </div>
</section>
<!-- REGISTER SECTION END -->
{% endblock content %}


{% block part %}{% endblock part %}

{% block js %}
<!-- IntelTel Input -->
<script type="text/javascript" src="{{asset('front/js/intlTelInput.js')}}"></script>
<script>
    var input = document.querySelector("#phone");
    window.intlTelInput(input, {
        // allowDropdown: false,
        // autoHideDialCode: false,
        // autoPlaceholder: "off",
        // dropdownContainer: document.body,
        // excludeCountries: ["us"],
        // formatOnDisplay: false,
        // geoIpLookup: function(callback) {
        //   $.get("http://ipinfo.io", function() {}, "jsonp").always(function(resp) {
        //     var countryCode = (resp && resp.country) ? resp.country : "";
        //     callback(countryCode);
        //   });
        // },
        hiddenInput: "full_number",
        // initialCountry: "auto",
        // localizedCountries: { 'de': 'Deutschland' },
        // nationalMode: false,
        // onlyCountries: ['us', 'gb', 'ch', 'ca', 'do'],
        placeholderNumberType: "MOBILE",
        preferredCountries: ['sn'],
        separateDialCode: true,
        utilsScript: "{{asset('front/js/utils.js')}}",
    });
</script>
{% endblock js %}